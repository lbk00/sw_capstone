"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[277],{1277:(e,t,r)=>{r.r(t),r.d(t,{default:()=>W});var o=r(5043),n=r(3216),i=r(6213),s=r(2314),l=r(5263),a=r(5865),c=r(1906),d=r(7392),h=r(9611),u=r(6360),x=(r(3052),r(6446)),A=r(5721),j=r(681),m=r(8968),p=r(2050),g=r(8734),f=r(9336),y=r(4208),b=r(1045),v=r(4109),C=r(3193),w=r(9859),I=r(1787),k=r(8903),S=r(2110),O=r(6494),M=r(6591),N=r(9190),B=r(5795),z=r(5397),E=r(4194),F=r(579);function W(){const[e,t]=(0,o.useState)(null),[W,P]=(0,o.useState)(null),[R,q]=(0,o.useState)(null),[G,J]=(0,o.useState)(null),[D,H]=(0,o.useState)(null),[V,Z]=(0,o.useState)(!1),[_,K]=(0,o.useState)(""),[L,Q]=(Boolean(e),Boolean(W),Boolean(R),Boolean(G),Boolean(D),o.useState(!1)),T=e=>()=>{Q(e)},[U,X]=(0,o.useState)(null);(0,o.useEffect)((()=>{(async()=>{try{const e=await i.A.get("http://localhost:8080/api/user/current-user",{withCredentials:!0});console.log(e.data),X(e.data),ee(!0)}catch(e){console.error("\uc0ac\uc6a9\uc790 \uc815\ubcf4 \uac00\uc838\uc624\uae30 \uc624\ub958:",e)}})()}),[]);const Y=(0,n.zy)(),[$,ee]=(0,o.useState)(Y.state),{productId:te}=(0,n.g)(),[re,oe]=(0,o.useState)(null);(0,o.useEffect)((()=>{(async()=>{try{const e=await i.A.get("http://localhost:8080/products/".concat(te));oe(e.data)}catch(e){console.error("Error fetching product data:",e)}})()}),[te]),(0,o.useEffect)((()=>{(async()=>{try{const e=await i.A.get("http://localhost:8080/api/user/current-user",{withCredentials:!0});console.log(e.data),X(e.data)}catch(e){ee(!1)}})()}),[]);const ne=(0,n.Zp)(),ie=()=>{if($){const e=parseInt(xe,10);if(isNaN(e)||e<=0)return K("\uc720\ud6a8\ud55c \uc218\ub7c9\uc744 \uc785\ub825\ud558\uc138\uc694."),void Z(!0);if(e>re.amount)return K("\uc7ac\uace0\uac00 \ucda9\ubd84\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),void Z(!0);const t={id:re.id,name:re.name,price:re.price,size:re.size,itemImage:re.itemImage,amount:parseInt(xe,10)};let r=JSON.parse(sessionStorage.getItem("cartItems"))||[];const o=r.findIndex((e=>e.id===re.id));o>-1?r[o].amount+=t.amount:r.push(t),sessionStorage.setItem("cartItems",JSON.stringify(r)),K("\uc7a5\ubc14\uad6c\ub2c8\uc5d0 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),Z(!0),ne("/cart",{state:{cartItem:t}})}else K("\ub85c\uadf8\uc778 \ud6c4 \uc774\uc6a9\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4."),Z(!0)},se=(0,F.jsxs)(x.A,{sx:{width:250},role:"presentation",onClick:T(!1),children:[(0,F.jsx)(A.A,{children:["\uc804\uccb4\ubcf4\uae30"].map(((e,t)=>(0,F.jsx)(j.Ay,{disablePadding:!0,children:(0,F.jsxs)(m.A,{children:[(0,F.jsx)(p.A,{children:(0,F.jsx)(h.A,{})}),(0,F.jsx)(g.A,{primary:e})]})},e)))}),(0,F.jsx)(f.A,{}),(0,F.jsx)(A.A,{children:["\uc0c1\uc758","\uc544\uc6b0\ud130","\ubc14\uc9c0"].map(((e,t)=>(0,F.jsx)(j.Ay,{disablePadding:!0,children:(0,F.jsxs)(m.A,{children:[(0,F.jsx)(p.A,{children:(0,F.jsx)(h.A,{})}),(0,F.jsx)(g.A,{primary:e})]})},e)))})]}),[le,ae]=o.useState(""),[ce,de]=o.useState(""),[he,ue]=o.useState(""),[xe,Ae]=(0,o.useState)();return re?(0,F.jsxs)("div",{className:"App",children:[(0,F.jsx)(s.A,{position:"static",sx:{bgcolor:"white",color:"black"},children:(0,F.jsxs)(l.A,{children:[(0,F.jsx)(d.A,{edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:(0,F.jsx)(y.A,{sx:{mr:1}})}),(0,F.jsx)(a.A,{align:"left",variant:"h6",sx:{flexGrow:1},children:"\uba54\uc778\ud398\uc774\uc9c0"}),U&&2===U.role&&(0,F.jsx)(c.A,{color:"inherit",sx:{mr:2},onClick:()=>{window.open("http://localhost:3000/dashboard","_blank","noopener,noreferrer")},children:"\uad00\ub9ac\uc790 \ud398\uc774\uc9c0"}),$?(0,F.jsx)(b.A,{children:U.cname.charAt(0)}):(0,F.jsx)("h1",{}),$?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(c.A,{color:"inherit",onClick:()=>{ne("/cart")},children:"\uc7a5\ubc14\uad6c\ub2c8"}),(0,F.jsx)(c.A,{color:"inherit",onClick:async()=>{try{await i.A.post("http://localhost:8080/api/user/logout",{},{withCredentials:!0}),window.location.href="/homeuser",ee(!1),sessionStorage.clear()}catch(e){console.error("\ub85c\uadf8\uc544\uc6c3 \uc2e4\ud328:",e)}},children:"\ub85c\uadf8\uc544\uc6c3"})]}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(c.A,{color:"inherit",onClick:()=>{ne("/signin")},children:"\ub85c\uadf8\uc778"}),(0,F.jsx)(c.A,{color:"inherit",onClick:()=>{ne("/signup")},children:"\ud68c\uc6d0\uac00\uc785"})]})]})}),(0,F.jsx)(f.A,{}),(0,F.jsx)(s.A,{position:"static",sx:{bgcolor:"white",color:"black"},children:(0,F.jsxs)(l.A,{children:[(0,F.jsxs)("div",{children:[(0,F.jsx)(c.A,{sx:{color:"black"},onClick:T(!0),children:(0,F.jsx)(h.A,{})}),(0,F.jsx)(v.Ay,{open:L,onClose:T(!1),children:se})]}),(0,F.jsx)(c.A,{sx:{width:90,color:"black"},children:"\uc0c1\uc758"}),(0,F.jsx)(f.A,{orientation:"vertical",variant:"middle",flexItem:!0}),(0,F.jsx)(c.A,{sx:{width:90,color:"black"},children:"\uc544\uc6b0\ud130"}),(0,F.jsx)(f.A,{orientation:"vertical",variant:"middle",flexItem:!0}),(0,F.jsx)(c.A,{sx:{width:90,color:"black"},children:"\ubc14\uc9c0"}),(0,F.jsx)(f.A,{orientation:"vertical",variant:"middle",flexItem:!0}),(0,F.jsx)(x.A,{sx:{flexGrow:1}}),(0,F.jsx)("form",{noValidate:!0,autoComplete:"off",children:(0,F.jsx)(C.A,{sx:{width:"25ch",bgcolor:"white"},size:"small",children:(0,F.jsx)(w.A,{placeholder:"\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694",sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"red",borderWidth:"2px"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"red",borderWidth:"2px"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"red",borderWidth:"2px"}},endAdornment:(0,F.jsx)(I.A,{position:"end",children:(0,F.jsx)(d.A,{edge:"end",children:(0,F.jsx)(u.A,{})})})})})})]})}),(0,F.jsx)(f.A,{}),(0,F.jsx)(x.A,{sx:{bgcolor:"#ffffff",height:50}}),(0,F.jsxs)(k.Ay,{container:!0,spacing:0,justifyContent:"center",alignItems:"center",children:[(0,F.jsx)(k.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,F.jsx)(S.A,{children:(0,F.jsx)(O.A,{children:re&&(0,F.jsx)(M.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:500,width:500},image:re.itemImage?r(6407)("./".concat(re.itemImage)):r(3052),title:re.name})})})}),(0,F.jsx)(k.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,F.jsx)(S.A,{children:(0,F.jsxs)(O.A,{sx:{height:500,width:400},children:[(0,F.jsx)(a.A,{gutterBottom:!0,variant:"h5",component:"div",children:re.name}),(0,F.jsxs)(a.A,{variant:"h5",children:["\u20a9 ",re.price]}),(0,F.jsxs)(a.A,{variant:"h6",children:["\uc0ac\uc774\uc988 : ",re.size]}),(0,F.jsxs)(a.A,{variant:"h6",color:"text.secondary",children:["\ub0a8\uc740 \uc218\ub7c9 : ",re.amount]}),(0,F.jsxs)(C.A,{fullWidth:!0,sx:{mt:2},children:[(0,F.jsx)(N.A,{htmlFor:"quantity-input",sx:{color:"gray","&.Mui-focused":{color:"gray"},display:xe?"none":"block"},children:"\uc218\ub7c9"}),(0,F.jsx)(B.A,{id:"quantity-input",type:"number",value:xe,onChange:e=>{const t=e.target.value;t>=0&&Ae(t)},sx:{"& .MuiInputBase-input":{color:"gray"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"gray"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"gray"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"gray"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"gray"}},InputProps:{onFocus:e=>e.target.select()}})]}),(0,F.jsxs)(k.Ay,{container:!0,spacing:2,sx:{mt:2},children:[(0,F.jsx)(k.Ay,{item:!0,children:(0,F.jsx)(c.A,{variant:"contained",sx:{bgcolor:"gray",color:"white","&:hover":{bgcolor:"gray"}},onClick:ie,children:"\uad6c\ub9e4\ud558\uae30"})}),(0,F.jsx)(k.Ay,{item:!0,children:(0,F.jsx)(c.A,{variant:"outlined",sx:{borderColor:"gray",color:"gray","&:hover":{borderColor:"gray",color:"gray"}},onClick:ie,children:"\uc7a5\ubc14\uad6c\ub2c8"})})]})]})})})]}),(0,F.jsx)(z.A,{open:V,autoHideDuration:6e3,onClose:()=>Z(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,F.jsx)(E.A,{onClose:()=>Z(!1),severity:"warning",children:_})}),(0,F.jsx)(x.A,{sx:{bgcolor:"#ffffff",height:80}}),(0,F.jsx)(s.A,{position:"static",sx:{bgcolor:"gray",color:"black",height:50},children:(0,F.jsx)(l.A,{})})]}):(0,F.jsx)("p",{children:"\uc0c1\ud488\uc744 \ubd88\ub7ec\uc624\ub294 \uc911\uc785\ub2c8\ub2e4..."})}},2110:(e,t,r)=>{r.d(t,{A:()=>p});var o=r(8168),n=r(8587),i=r(5043),s=r(8387),l=r(8606),a=r(4535),c=r(2876),d=r(3336),h=r(7056),u=r(2400);function x(e){return(0,u.Ay)("MuiCard",e)}(0,h.A)("MuiCard",["root"]);var A=r(579);const j=["className","raised"],m=(0,a.Ay)(d.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),p=i.forwardRef((function(e,t){const r=(0,c.A)({props:e,name:"MuiCard"}),{className:i,raised:a=!1}=r,d=(0,n.A)(r,j),h=(0,o.A)({},r,{raised:a}),u=(e=>{const{classes:t}=e;return(0,l.A)({root:["root"]},x,t)})(h);return(0,A.jsx)(m,(0,o.A)({className:(0,s.A)(u.root,i),elevation:a?8:void 0,ref:t,ownerState:h},d))}))}}]);
//# sourceMappingURL=277.0c2695e8.chunk.js.map