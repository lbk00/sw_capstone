"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[231],{1863:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var r=n(5043),o=n(3216),i=n(6213),s=n(2314),a=n(5263),l=n(5865),c=n(1906),d=n(7392),h=n(9611),x=n(6360),u=n(6446),m=n(5721),A=n(681),f=n(8968),g=n(2050),p=n(8734),j=n(9336),y=n(4208),v=n(1045),b=n(4109),w=n(3193),C=n(9859),k=n(1787),S=n(8903),I=n(4605),E=n(3217),O=n(6591),R=n(6494),_=n(5397),L=n(4194),B=n(579);function T(){(0,o.zy)();const[e,t]=(0,r.useState)([]),[T,D]=(0,r.useState)([]),[N,F]=(0,r.useState)(!1),[H,M]=r.useState(!1),P=e=>()=>{M(e)},z=(0,o.Zp)(),[J,V]=(0,r.useState)(!1),[W,G]=(0,r.useState)(null),[q,Q]=(0,r.useState)(!1);(0,r.useEffect)((()=>{const e=JSON.parse(sessionStorage.getItem("cartItems"))||[];t(e)}),[]);const Z=(0,B.jsxs)(u.A,{sx:{width:250},role:"presentation",onClick:P(!1),children:[(0,B.jsx)(m.A,{children:["\uc804\uccb4\ubcf4\uae30"].map(((e,t)=>(0,B.jsx)(A.Ay,{disablePadding:!0,children:(0,B.jsxs)(f.A,{children:[(0,B.jsx)(g.A,{children:(0,B.jsx)(h.A,{})}),(0,B.jsx)(p.A,{primary:e})]})},e)))}),(0,B.jsx)(j.A,{}),(0,B.jsx)(m.A,{children:["\uc0c1\uc758","\uc544\uc6b0\ud130","\ubc14\uc9c0"].map(((e,t)=>(0,B.jsx)(A.Ay,{disablePadding:!0,children:(0,B.jsxs)(f.A,{children:[(0,B.jsx)(g.A,{children:(0,B.jsx)(h.A,{})}),(0,B.jsx)(p.A,{primary:e})]})},e)))})]});(0,r.useEffect)((()=>{(async()=>{try{const e=await i.A.get("http://localhost:8080/api/user/current-user",{withCredentials:!0});console.log(e.data),G(e.data),Q(!0)}catch(e){console.error("\uc0ac\uc6a9\uc790 \uc815\ubcf4 \uac00\uc838\uc624\uae30 \uc624\ub958:",e)}})()}),[]);const K=e.reduce(((e,t)=>e+t.price*t.amount),0);return(0,B.jsxs)("div",{className:"App",children:[(0,B.jsx)(s.A,{position:"static",sx:{bgcolor:"white",color:"black"},children:(0,B.jsxs)(a.A,{children:[(0,B.jsx)(d.A,{edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:(0,B.jsx)(y.A,{sx:{mr:1}})}),(0,B.jsx)(l.A,{align:"left",variant:"h6",sx:{flexGrow:1},children:"\uba54\uc778\ud398\uc774\uc9c0"}),W&&2===W.role&&(0,B.jsx)(c.A,{color:"inherit",sx:{mr:2},onClick:()=>{window.open("http://localhost:3000/dashboard","_blank","noopener,noreferrer")},children:"\uad00\ub9ac\uc790 \ud398\uc774\uc9c0"}),q?(0,B.jsx)(v.A,{children:W.cname.charAt(0)}):(0,B.jsx)("h1",{}),q?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(c.A,{color:"inherit",onClick:()=>{z("/cart")},children:"\uc7a5\ubc14\uad6c\ub2c8"}),(0,B.jsx)(c.A,{color:"inherit",onClick:async()=>{try{await i.A.post("http://localhost:8080/api/user/logout",{},{withCredentials:!0}),window.location.href="/homeuser",Q(!1),sessionStorage.clear()}catch(e){console.error("\ub85c\uadf8\uc544\uc6c3 \uc2e4\ud328:",e)}},children:"\ub85c\uadf8\uc544\uc6c3"})]}):(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(c.A,{color:"inherit",onClick:()=>{z("/signin")},children:"\ub85c\uadf8\uc778"}),(0,B.jsx)(c.A,{color:"inherit",onClick:()=>{z("/signup")},children:"\ud68c\uc6d0\uac00\uc785"})]})]})}),(0,B.jsx)(j.A,{}),(0,B.jsx)(s.A,{position:"static",sx:{bgcolor:"white",color:"black"},children:(0,B.jsxs)(a.A,{children:[(0,B.jsxs)("div",{children:[(0,B.jsx)(c.A,{sx:{color:"black"},onClick:P(!0),children:(0,B.jsx)(h.A,{})}),(0,B.jsx)(b.Ay,{open:H,onClose:P(!1),children:Z})]}),(0,B.jsx)(c.A,{sx:{width:90,color:"black"},children:"\uc0c1\uc758"}),(0,B.jsx)(j.A,{orientation:"vertical",variant:"middle",flexItem:!0}),(0,B.jsx)(c.A,{sx:{width:90,color:"black"},children:"\uc544\uc6b0\ud130"}),(0,B.jsx)(j.A,{orientation:"vertical",variant:"middle",flexItem:!0}),(0,B.jsx)(c.A,{sx:{width:90,color:"black"},children:"\ubc14\uc9c0"}),(0,B.jsx)(j.A,{orientation:"vertical",variant:"middle",flexItem:!0}),(0,B.jsx)(u.A,{sx:{flexGrow:1}}),(0,B.jsx)("form",{noValidate:!0,autoComplete:"off",children:(0,B.jsx)(w.A,{sx:{width:"25ch",bgcolor:"white"},size:"small",children:(0,B.jsx)(C.A,{placeholder:"\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694",sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"red",borderWidth:"2px"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"red",borderWidth:"2px"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"red",borderWidth:"2px"}},endAdornment:(0,B.jsx)(k.A,{position:"end",children:(0,B.jsx)(d.A,{edge:"end",children:(0,B.jsx)(x.A,{})})})})})})]})}),(0,B.jsx)(j.A,{}),(0,B.jsx)(s.A,{position:"static",sx:{bgcolor:"white",color:"black"},children:(0,B.jsx)(a.A,{children:(0,B.jsxs)(S.Ay,{container:!0,children:[(0,B.jsx)(S.Ay,{item:!0,xs:6,children:(0,B.jsx)(l.A,{gutterBottom:!0,variant:"h5",children:"\uc77c\ubc18\ubc30\uc1a1"})}),(0,B.jsx)(S.Ay,{item:!0,xs:6,sx:{display:"flex",justifyContent:"flex-end"},children:(0,B.jsx)(l.A,{gutterBottom:!0,variant:"h5",children:"\uc7a5\ubc14\uad6c\ub2c8"})})]})})}),(0,B.jsx)(u.A,{children:e.map(((t,r)=>(0,B.jsxs)(u.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,B.jsx)(I.A,{control:(0,B.jsx)(E.A,{checked:T.includes(t.id),onChange:()=>{return n=t.id,D((e=>e.includes(n)?e.filter((e=>e!==n)):[...e,n])),void(T.length+1===e.length?F(!0):F(!1));var n}}),label:"",sx:{marginLeft:2}}),(0,B.jsx)(O.A,{sx:{height:200,width:400,marginRight:"20px"},image:t.itemImage?n(6407)("./".concat(t.itemImage)):n(3052),title:t.name}),(0,B.jsx)(j.A,{orientation:"vertical",variant:"middle",flexItem:!0}),(0,B.jsxs)(R.A,{sx:{height:200,width:400,display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start"},children:[(0,B.jsx)(l.A,{gutterBottom:!0,variant:"h5",component:"div",children:t.name}),(0,B.jsxs)(l.A,{variant:"h6",color:"text.secondary",children:["\u20a9 ",t.price.toLocaleString(),"\uc6d0"]}),(0,B.jsxs)(l.A,{variant:"h6",color:"text.secondary",children:["\uc218\ub7c9 ",t.amount.toLocaleString()]})]}),(0,B.jsx)(j.A,{orientation:"vertical",variant:"middle",flexItem:!0}),(0,B.jsxs)(R.A,{sx:{height:200,width:400,display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start"},children:[(0,B.jsx)(l.A,{gutterBottom:!0,variant:"h5",component:"div",children:"\uc0c9\uc0c1: \ud654\uc774\ud2b8"}),(0,B.jsxs)(l.A,{gutterBottom:!0,variant:"h5",component:"div",children:["\uc0ac\uc774\uc988: ",t.size]}),(0,B.jsx)(c.A,{sx:{backgroundColor:"darkgray",color:"black","&:hover":{backgroundColor:"darkgrey"}},children:"\uc8fc\ubb38\uc218\uc815"})]}),(0,B.jsx)(j.A,{orientation:"vertical",variant:"middle",flexItem:!0}),(0,B.jsxs)(R.A,{sx:{height:200,width:400,display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start"},children:[(0,B.jsx)(l.A,{gutterBottom:!0,variant:"h5",component:"div",children:"\uc0c1\ud488 \uae08\uc561"}),(0,B.jsxs)(l.A,{gutterBottom:!0,variant:"h5",component:"div",children:["\u20a9 ",t.price.toLocaleString()," \uc6d0"]})]}),(0,B.jsx)(R.A,{sx:{height:200,width:400,display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start"},children:(0,B.jsxs)(l.A,{gutterBottom:!0,variant:"h5",component:"div",children:["\u20a9 ",(t.price*t.amount).toLocaleString()," \uc6d0"]})})]},r)))}),(0,B.jsxs)(u.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,B.jsx)(I.A,{control:(0,B.jsx)(E.A,{checked:N,onChange:()=>{D(N?[]:e.map((e=>e.id))),F(!N)}}),sx:{marginLeft:2},label:""}),(0,B.jsxs)(l.A,{variant:"h5",component:"div",sx:{textAlign:"right",marginRight:20},children:["\ucd1d \uac00\uaca9: \u20a9 ",K.toLocaleString()," \uc6d0"]})]}),(0,B.jsxs)(u.A,{sx:{display:"flex",justifyContent:"center",gap:2,mb:2},children:[(0,B.jsx)(c.A,{variant:"contained",sx:{bgcolor:"gray",color:"white","&:hover":{bgcolor:"gray"}},onClick:()=>{sessionStorage.removeItem("cartItems"),t([])},children:"\ubaa8\ub450 \uc0ad\uc81c"}),(0,B.jsx)(c.A,{variant:"contained",sx:{bgcolor:"gray",color:"white","&:hover":{bgcolor:"gray"}},onClick:()=>{const n=e.filter((e=>!T.includes(e.id)));t(n),D([]),sessionStorage.setItem("cartItems",JSON.stringify(n))},children:"\uc120\ud0dd\ub41c \ud56d\ubaa9 \uc0ad\uc81c"}),(0,B.jsx)(c.A,{variant:"contained",sx:{bgcolor:"gray",color:"white","&:hover":{bgcolor:"gray"}},onClick:async()=>{try{const n=e.filter((e=>T.includes(e.id))).map((e=>({id:e.id,amount:e.amount})));if(0===n.length)return void alert("\uad6c\ub9e4\ud560 \uc0c1\ud488\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.");const r=await i.A.post("http://localhost:8080/orders/purchase",n);console.log("\uad6c\ub9e4\uac00 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4:",r.data),V(!0);const o=e.filter((e=>!T.includes(e.id)));t(o),sessionStorage.setItem("cartItems",JSON.stringify(o)),D((e=>e.filter((e=>!T.includes(e)))))}catch(n){console.error("\uad6c\ub9e4 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4:",n)}},children:"\uad6c\ub9e4\ud558\uae30"})]}),(0,B.jsx)(_.A,{open:J,autoHideDuration:6e3,onClose:()=>{V(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,B.jsx)(L.A,{onClose:()=>V(!1),severity:"success",children:"\uad6c\ub9e4\uac00 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."})}),(0,B.jsx)(u.A,{sx:{bgcolor:"#ffffff",height:80}}),(0,B.jsx)(s.A,{position:"static",sx:{bgcolor:"gray",color:"black",height:50},children:(0,B.jsx)(a.A,{})})]})}},6328:(e,t,n)=>{n.d(t,{A:()=>g});var r=n(8168),o=n(8587),i=n(5043),s=n(1140),a=n(9998),l=n(6240),c=n(653),d=n(5849),h=n(579);const x=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function u(e){return"scale(".concat(e,", ").concat(e**2,")")}const m={entering:{opacity:1,transform:u(1)},entered:{opacity:1,transform:"none"}},A="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),f=i.forwardRef((function(e,t){const{addEndListener:n,appear:f=!0,children:g,easing:p,in:j,onEnter:y,onEntered:v,onEntering:b,onExit:w,onExited:C,onExiting:k,style:S,timeout:I="auto",TransitionComponent:E=a.Ay}=e,O=(0,o.A)(e,x),R=(0,s.A)(),_=i.useRef(),L=(0,l.A)(),B=i.useRef(null),T=(0,d.A)(B,g.ref,t),D=e=>t=>{if(e){const n=B.current;void 0===t?e(n):e(n,t)}},N=D(b),F=D(((e,t)=>{(0,c.q)(e);const{duration:n,delay:r,easing:o}=(0,c.c)({style:S,timeout:I,easing:p},{mode:"enter"});let i;"auto"===I?(i=L.transitions.getAutoHeightDuration(e.clientHeight),_.current=i):i=n,e.style.transition=[L.transitions.create("opacity",{duration:i,delay:r}),L.transitions.create("transform",{duration:A?i:.666*i,delay:r,easing:o})].join(","),y&&y(e,t)})),H=D(v),M=D(k),P=D((e=>{const{duration:t,delay:n,easing:r}=(0,c.c)({style:S,timeout:I,easing:p},{mode:"exit"});let o;"auto"===I?(o=L.transitions.getAutoHeightDuration(e.clientHeight),_.current=o):o=t,e.style.transition=[L.transitions.create("opacity",{duration:o,delay:n}),L.transitions.create("transform",{duration:A?o:.666*o,delay:A?n:n||.333*o,easing:r})].join(","),e.style.opacity=0,e.style.transform=u(.75),w&&w(e)})),z=D(C);return(0,h.jsx)(E,(0,r.A)({appear:f,in:j,nodeRef:B,onEnter:F,onEntered:H,onEntering:N,onExit:P,onExited:z,onExiting:M,addEndListener:e=>{"auto"===I&&R.start(_.current||0,e),n&&n(B.current,e)},timeout:"auto"===I?null:I},O,{children:(e,t)=>i.cloneElement(g,(0,r.A)({style:(0,r.A)({opacity:0,transform:u(.75),visibility:"exited"!==e||j?void 0:"hidden"},m[e],S,g.props.style),ref:T},t))}))}));f.muiSupportAuto=!0;const g=f},6060:(e,t,n)=>{n.d(t,{A:()=>p});var r=n(8168),o=n(8587),i=n(3174),s=n(835),a=n(8280),l=n(8812);const c=["ownerState"],d=["variants"],h=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function x(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const u=(0,a.A)(),m=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function A(e){let{defaultTheme:t,theme:n,themeId:r}=e;return o=n,0===Object.keys(o).length?t:n[r]||n;var o}function f(e){return e?(t,n)=>n[e]:null}function g(e,t){let{ownerState:n}=t,i=(0,o.A)(t,c);const s="function"===typeof e?e((0,r.A)({ownerState:n},i)):e;if(Array.isArray(s))return s.flatMap((e=>g(e,(0,r.A)({ownerState:n},i))));if(s&&"object"===typeof s&&Array.isArray(s.variants)){const{variants:e=[]}=s;let t=(0,o.A)(s,d);return e.forEach((e=>{let o=!0;"function"===typeof e.props?o=e.props((0,r.A)({ownerState:n},i,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&i[t]!==e.props[t]&&(o=!1)})),o&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,r.A)({ownerState:n},i,n)):e.style))})),t}return s}const p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=u,rootShouldForwardProp:a=x,slotShouldForwardProp:c=x}=e,d=e=>(0,l.A)((0,r.A)({},e,{theme:A((0,r.A)({},e,{defaultTheme:n,themeId:t}))}));return d.__mui_systemSx=!0,function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:u,slot:p,skipVariantsResolver:j,skipSx:y,overridesResolver:v=f(m(p))}=l,b=(0,o.A)(l,h),w=void 0!==j?j:p&&"Root"!==p&&"root"!==p||!1,C=y||!1;let k=x;"Root"===p||"root"===p?k=a:p?k=c:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(k=void 0);const S=(0,i.default)(e,(0,r.A)({shouldForwardProp:k,label:undefined},b)),I=e=>"function"===typeof e&&e.__emotion_real!==e||(0,s.Q)(e)?o=>g(e,(0,r.A)({},o,{theme:A({theme:o.theme,defaultTheme:n,themeId:t})})):e,E=function(o){let i=I(o);for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];const c=a?a.map(I):[];u&&v&&c.push((e=>{const o=A((0,r.A)({},e,{defaultTheme:n,themeId:t}));if(!o.components||!o.components[u]||!o.components[u].styleOverrides)return null;const i=o.components[u].styleOverrides,s={};return Object.entries(i).forEach((t=>{let[n,i]=t;s[n]=g(i,(0,r.A)({},e,{theme:o}))})),v(e,s)})),u&&!w&&c.push((e=>{var o;const i=A((0,r.A)({},e,{defaultTheme:n,themeId:t}));return g({variants:null==i||null==(o=i.components)||null==(o=o[u])?void 0:o.variants},(0,r.A)({},e,{theme:i}))})),C||c.push(d);const h=c.length-a.length;if(Array.isArray(o)&&h>0){const e=new Array(h).fill("");i=[...o,...e],i.raw=[...o.raw,...e]}const x=S(i,...c);return e.muiName&&(x.muiName=e.muiName),x};return S.withConfig&&(E.withConfig=S.withConfig),E}}()}}]);
//# sourceMappingURL=231.50254d41.chunk.js.map