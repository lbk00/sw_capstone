/*! For license information please see 119.33348040.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[119],{4121:(e,r,t)=>{t.r(r),t.d(r,{default:()=>W});var o=t(5043),s=t(6213),l=t(50),i=t(4975),n=(t(4014),t(3874),t(5084),t(9604),t(5760),t(3216)),a=t(2314),c=t(5263),d=t(5865),h=t(1906),x=t(7392),u=t(9611),j=t(6360),m=t(6446),p=t(5721),A=t(681),f=t(8968),g=t(2050),y=t(8734),b=t(9336),C=t(4208),S=t(1045),w=t(4109),v=t(3193),k=t(9859),I=t(1787),L=t(2110),B=t(6494),O=t(6591),M=t(2083),_=t(8983),P=t(8903),$=t(9135),E=t(579);function W(){const[e,r]=(0,o.useState)(null),[W,z]=(0,o.useState)(null),[F,G]=(0,o.useState)(null),[N,V]=(0,o.useState)(null),[q,K]=(0,o.useState)(null),[R,Z]=(Boolean(e),Boolean(W),Boolean(F),Boolean(N),Boolean(q),(0,o.useState)([])),[D,H]=(0,o.useState)(1),[J,Q]=(0,o.useState)("default"),[T,U]=(0,o.useState)(""),[X,Y]=(0,o.useState)([]),ee=(0,n.Zp)(),[re,te]=(0,o.useState)(null),[oe,se]=(0,o.useState)(!1);(0,o.useEffect)((()=>{(async()=>{try{const e=await s.A.get("http://localhost:8080/products/list");Z(e.data.dtoList),Y(e.data.dtoList)}catch(e){console.error("Error fetching product data:",e)}})()}),[]);(0,o.useEffect)((()=>{(async()=>{try{const e=await s.A.get("http://localhost:8080/api/user/current-user",{withCredentials:!0});console.log(e.data),te(e.data),se(!0)}catch(e){console.error("\uc0ac\uc6a9\uc790 \uc815\ubcf4 \uac00\uc838\uc624\uae30 \uc624\ub958:",e)}})()}),[]);const le=e=>{let r;r="asc"===e?[...X].sort(((e,r)=>e.price-r.price)):"desc"===e?[...X].sort(((e,r)=>r.price-e.price)):R,Y(r),Q(e),H(1)},ie=6*D,ne=ie-6,ae=X.slice(ne,ie),ce=[...R].sort(((e,r)=>r.amount-e.amount)),de=Math.ceil(X.length/6),he=e=>{ee("/itempurchase/".concat(e),{state:{isLoggedIn:oe}})},[xe,ue]=o.useState(!1),je=e=>()=>{ue(e)},me=(0,E.jsxs)(m.A,{sx:{width:250},role:"presentation",onClick:je(!1),children:[(0,E.jsx)(p.A,{children:["\uc804\uccb4\ubcf4\uae30"].map(((e,r)=>(0,E.jsx)(A.Ay,{disablePadding:!0,children:(0,E.jsxs)(f.A,{children:[(0,E.jsx)(g.A,{children:(0,E.jsx)(u.A,{})}),(0,E.jsx)(y.A,{primary:e})]})},e)))}),(0,E.jsx)(b.A,{}),(0,E.jsx)(p.A,{children:["\uc0c1\uc758","\uc544\uc6b0\ud130","\ubc14\uc9c0"].map(((e,r)=>(0,E.jsx)(A.Ay,{disablePadding:!0,children:(0,E.jsxs)(f.A,{children:[(0,E.jsx)(g.A,{children:(0,E.jsx)(u.A,{})}),(0,E.jsx)(y.A,{primary:e})]})},e)))})]}),[pe,Ae]=(0,o.useState)("popularity");return(0,E.jsxs)("div",{className:"App",children:[(0,E.jsx)(a.A,{position:"static",sx:{bgcolor:"white",color:"black"},children:(0,E.jsxs)(c.A,{children:[(0,E.jsx)(x.A,{edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:(0,E.jsx)(C.A,{sx:{mr:1}})}),(0,E.jsx)(d.A,{align:"left",variant:"h6",sx:{flexGrow:1},children:"\uba54\uc778\ud398\uc774\uc9c0"}),re&&2===re.role&&(0,E.jsx)(h.A,{color:"inherit",sx:{mr:2},onClick:()=>{window.open("http://localhost:3000/dashboard","_blank","noopener,noreferrer")},children:"\uad00\ub9ac\uc790 \ud398\uc774\uc9c0"}),oe?(0,E.jsx)(S.A,{onClick:()=>{ee("/mypage",{state:{user:re}})},style:{cursor:"pointer"},children:re.cname.charAt(0)}):(0,E.jsx)("h1",{}),oe?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(h.A,{color:"inherit",onClick:()=>{ee("/cart")},children:"\uc7a5\ubc14\uad6c\ub2c8"}),(0,E.jsx)(h.A,{color:"inherit",onClick:async()=>{try{await s.A.post("http://localhost:8080/api/user/logout",{},{withCredentials:!0}),window.location.href="/homeuser",se(!1),sessionStorage.clear()}catch(e){console.error("\ub85c\uadf8\uc544\uc6c3 \uc2e4\ud328:",e)}},children:"\ub85c\uadf8\uc544\uc6c3"})]}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(h.A,{color:"inherit",onClick:()=>{ee("/signin")},children:"\ub85c\uadf8\uc778"}),(0,E.jsx)(h.A,{color:"inherit",onClick:()=>{ee("/signup")},children:"\ud68c\uc6d0\uac00\uc785"})]})]})}),(0,E.jsx)(b.A,{}),(0,E.jsx)(a.A,{position:"static",sx:{bgcolor:"white",color:"black"},children:(0,E.jsxs)(c.A,{children:[(0,E.jsxs)("div",{children:[(0,E.jsx)(h.A,{sx:{color:"black"},onClick:je(!0),children:(0,E.jsx)(u.A,{})}),(0,E.jsx)(w.Ay,{open:xe,onClose:je(!1),children:me})]}),(0,E.jsx)(h.A,{sx:{width:90,color:"black"},children:"\uc0c1\uc758"}),(0,E.jsx)(b.A,{orientation:"vertical",variant:"middle",flexItem:!0}),(0,E.jsx)(h.A,{sx:{width:90,color:"black"},children:"\uc544\uc6b0\ud130"}),(0,E.jsx)(b.A,{orientation:"vertical",variant:"middle",flexItem:!0}),(0,E.jsx)(h.A,{sx:{width:90,color:"black"},children:"\ubc14\uc9c0"}),(0,E.jsx)(b.A,{orientation:"vertical",variant:"middle",flexItem:!0}),(0,E.jsx)(m.A,{sx:{flexGrow:1}}),(0,E.jsx)("form",{noValidate:!0,autoComplete:"off",children:(0,E.jsx)(v.A,{sx:{width:"25ch",bgcolor:"white"},size:"small",children:(0,E.jsx)(k.A,{placeholder:"\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694",value:T,onChange:e=>U(e.target.value),sx:{"& .MuiOutlinedInput-notchedOutline":{borderColor:"red",borderWidth:"2px"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"red",borderWidth:"2px"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"red",borderWidth:"2px"}},endAdornment:(0,E.jsx)(I.A,{position:"end",children:(0,E.jsxs)(x.A,{edge:"end",onClick:()=>{const e=R.filter((e=>e.name.toLowerCase().includes(T.toLowerCase())));Y(e),H(1)},children:[" ",(0,E.jsx)(j.A,{})]})})})})})]})}),(0,E.jsx)(m.A,{sx:{bgcolor:"lightgray",p:2},children:(0,E.jsx)(i.RC,{autoplay:!0,pagination:!0,navigation:!0,modules:[l.Vx,l.dK,l.Ij],className:"mySwiper",children:0===ce.length?(0,E.jsx)(d.A,{variant:"h6",color:"text.secondary",sx:{marginLeft:4},children:"\uc77c\uce58\ud558\ub294 \uc0c1\ud488\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}):ce.map(((e,r)=>(0,E.jsx)(i.qr,{children:(0,E.jsx)(L.A,{onClick:()=>he(e.id),sx:{cursor:"pointer"},children:(0,E.jsx)(B.A,{children:(0,E.jsx)(O.A,{sx:{height:200},image:e.itemImage?t(6407)("./".concat(e.itemImage)):t(3052),title:e.name})})})})))})}),(0,E.jsx)(m.A,{sx:{display:"flex",justifyContent:"right",my:2},children:(0,E.jsxs)(M.A,{value:pe,exclusive:!0,onChange:(e,r)=>{null!==r&&Ae(r)},"aria-label":"sort type",children:[(0,E.jsx)(_.A,{value:"recent","aria-label":"recent",onClick:()=>le(null),children:"\ucd5c\uc2e0\uc21c"}),(0,E.jsx)(_.A,{value:"lowPrice","aria-label":"low price",onClick:()=>le("asc"),children:"\uac00\uaca9\uc774 \ub0ae\uc740 \uc21c"}),(0,E.jsx)(_.A,{value:"highPrice","aria-label":"high price",onClick:()=>le("desc"),children:"\uac00\uaca9\uc774 \ub192\uc740 \uc21c"})]})}),(0,E.jsx)(P.Ay,{container:!0,spacing:2,children:0===ae.length?(0,E.jsx)(d.A,{variant:"h6",color:"text.secondary",sx:{marginLeft:4},children:"\uc77c\uce58\ud558\ub294 \uc0c1\ud488\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}):ae.map(((e,r)=>(0,E.jsx)(P.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,E.jsx)(L.A,{onClick:()=>he(e.id),sx:{cursor:"pointer"},children:(0,E.jsxs)(B.A,{children:[(0,E.jsx)(O.A,{sx:{height:400},image:e.itemImage?t(6407)("./".concat(e.itemImage)):t(3052),title:e.name}),(0,E.jsx)(d.A,{gutterBottom:!0,variant:"h5",component:"div",children:e.name}),(0,E.jsxs)(d.A,{variant:"body2",color:"text.secondary",children:["\uac00\uaca9: ",e.price,"\uc6d0"]})]})})},e.id)))}),(0,E.jsx)(m.A,{sx:{display:"flex",justifyContent:"center",mt:2,pt:4,pb:6},children:(0,E.jsx)($.A,{count:de,page:D,onChange:(e,r)=>{H(r)},variant:"outlined",shape:"rounded"})}),(0,E.jsx)(a.A,{position:"static",sx:{bgcolor:"gray",color:"black",height:50},children:(0,E.jsx)(c.A,{})})]})}},5881:(e,r)=>{var t,o=Symbol.for("react.element"),s=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen");function A(e){if("object"===typeof e&&null!==e){var r=e.$$typeof;switch(r){case o:switch(e=e.type){case l:case n:case i:case x:case u:return e;default:switch(e=e&&e.$$typeof){case d:case c:case h:case m:case j:case a:return e;default:return r}}case s:return r}}}t=Symbol.for("react.module.reference")},805:(e,r,t)=>{t(5881)},5760:()=>{}}]);
//# sourceMappingURL=119.33348040.chunk.js.map